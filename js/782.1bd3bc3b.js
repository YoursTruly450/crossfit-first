"use strict";(self["webpackChunkcrossfit_first"]=self["webpackChunkcrossfit_first"]||[]).push([[782],{4782:function(t,s,e){e.r(s),e.d(s,{default:function(){return w}});var i=function(){var t=this,s=t._self._c;return s("div",{staticClass:"admin"},[t.user?s("AdminRequests",{attrs:{user:t.user}}):s("AdminLoginBlock")],1)},n=[],a=e(3518),o=function(){var t=this,s=t._self._c;return s("div",{staticClass:"admin__form"},[s("label",{staticClass:"admin__label",attrs:{for:"mail"}},[t._v("Логин")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],staticClass:"admin__input",attrs:{id:"mail"},domProps:{value:t.form.email},on:{input:function(s){s.target.composing||t.$set(t.form,"email",s.target.value)}}}),s("label",{staticClass:"admin__label",attrs:{for:"password"}},[t._v("Пароль")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password,expression:"form.password"}],staticClass:"admin__input",attrs:{id:"password",type:"password"},domProps:{value:t.form.password},on:{input:function(s){s.target.composing||t.$set(t.form,"password",s.target.value)}}}),s("button",{staticClass:"admin__button",on:{click:t.onLogin}},[t._v("Войти")]),s("button",{staticClass:"admin__button",on:{click:t.goToMainPage}},[t._v("Вернуться на сайт")]),t.error?s("p",{staticClass:"admin__error"},[t._v(t._s(t.error))]):t._e()])},r=[],u=(e(4114),e(8626)),l={name:"AdminLoginBlock",data(){return{form:{email:"crossfit.sputnik@gmail.com",password:"",returnSecureToken:!0},defaultForm:{email:"crossfit.sputnik@gmail.com",password:"",returnSecureToken:!0}}},computed:{...(0,a.L8)(["user","error"])},methods:{...(0,a.i0)(["login"]),onLogin(){this.login(this.form),this.form=(0,u.cloneDeep)(this.defaultForm)},goToMainPage(){this.$router.push({name:"home"})}}},m=l,c=e(1656),d=(0,c.A)(m,o,r,!1,null,null,null),_=d.exports,p=function(){var t=this,s=t._self._c;return s("div",{staticClass:"admin__wrapper"},[t.list.length>0?s("div",{staticClass:"admin__requests"},t._l(t.list,(function(e){return s("div",{key:e.id,staticClass:"admin__request"},[s("span",[t._v(t._s(`Имя: ${e.name}`))]),s("span",[t._v(t._s(`Контакт: ${e.contact}`))]),s("span",[t._v(t._s(`Сообщение: ${e.message}`))]),s("button",{staticClass:"admin__button",on:{click:function(s){return t.deleteItem(e)}}},[t._v("удалить")])])})),0):s("div",{staticClass:"admin__requests"},[t._v(" нет новых заявок ")]),s("button",{staticClass:"admin__button",on:{click:t.onLogout}},[t._v("Выйти")]),s("button",{staticClass:"admin__button",on:{click:t.goToMainPage}},[t._v("Вернуться на сайт")])])},f=[],h={name:"AdminRequests",props:{user:{type:Object,default:null}},computed:{...(0,a.L8)(["requests"]),list(){let t=[];return this.requests&&(t=Object.keys(this.requests).map((t=>({id:t,name:this.requests[t].name,contact:this.requests[t].contact,message:this.requests[t].message})))),t}},created(){this.fetchRequests()},methods:{...(0,a.i0)(["logout","getRequests","deleteRequest"]),onLogout(){this.logout()},goToMainPage(){this.$router.push({name:"home"})},fetchRequests(){const t=this.user.idToken;this.getRequests(t)},deleteItem(t){const{id:s}=t;this.deleteRequest(s).then((()=>{this.fetchRequests()}))}}},g=h,v=(0,c.A)(g,p,f,!1,null,null,null),k=v.exports,q={name:"AdminView",components:{AdminLoginBlock:_,AdminRequests:k},computed:{...(0,a.L8)(["user"])}},b=q,C=(0,c.A)(b,i,n,!1,null,null,null),w=C.exports}}]);
//# sourceMappingURL=782.1bd3bc3b.js.map